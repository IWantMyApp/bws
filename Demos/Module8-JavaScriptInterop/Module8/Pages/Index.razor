@page "/"

@inject IJSRuntime JSRuntime


<button @onclick=ButtonClicked>Perform interop</button>
<br />
<br />

<p>
    <button @onclick=ShowConfirm>Confirm popup</button>
</p>

<p>
    <button @onclick=ShowPrompt>Prompt popup</button>
</p>

<p>
    Status: @Result
</p>

@code
{
    // TODO: Passing Parameters
    private async Task ButtonClicked()
    {
        var person = new Models.Person
        {
            Salutation = "Mr",
            GivenName = "Chuck",
            FamilyName = "Morris"
        };

        person.PhoneNumbers.Add(new KeyValuePair<string, string>("Home", "+44 (0)121 999 9999"));
        person.PhoneNumbers.Add(new KeyValuePair<string, string>("Work", "+44 (0)161 999 9999"));

        await JSRuntime.InvokeVoidAsync("console.log", "Hello", person);
        await JSRuntime.InvokeVoidAsync("alert", "Hello world");
    }


    // TODO: Accessing Javascript Return Values
    private string Result;
    private async Task ShowConfirm()
    {
        bool confirmed = await JSRuntime.InvokeAsync<bool>("confirm", "Are you sure?");
        Result = confirmed ? "You clicked OK" : "You clicked Cancel";
    }
    private async Task ShowPrompt()
    {
        string name = await JSRuntime.InvokeAsync<string>("prompt", "What is your name?");
        Result = "Your name is: " + name;
    }

}